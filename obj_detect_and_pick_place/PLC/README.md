# 프로젝트2 - 컨베이어 제어 (PLC + 인버터 제어)

LS산전 XGB 시리즈 PLC를 사용하여 **인버터 기반 컨베이어 정방향 제어 시스템**을 구현한 프로젝트입니다.  
인버터 제어는 MODBUS 통신을 통해 이루어지며, 주파수 및 가감속 시간 설정과 운전 지령 전송을 자동으로 수행합니다.

---

## 프로젝트 개요

- **파일명:** `25.04.03_프로젝트2_컨베이어제어.xgwx`
- **작성도구:** XG5000 (LS산전 PLC 프로그래밍 툴)
- **사용 PLC:** LS산전 XGB 시리즈
- **사용 인버터:** LS산전 M100 인버터
- **제어 방식:** MODBUS RTU (RS-485 통신)
- **운전 방식:** 정방향 자동운전 제어

---

## 주요 기능

- 시스템 운전 조건 확인
- 타이머 기반 시퀀스 운전
- MODBUS를 통한 인버터 주파수/가속/감속 설정
- 인버터 정방향 운전 및 정지 명령 전송
- 인버터 상태 모니터링

---

## 시퀀스 설명

본 PLC 프로그램의 시퀀스는 다음과 같은 흐름으로 구성되어 있습니다:

### 1. 시스템 초기 조건 확인

- **기동조건(M00100)** 및 **인버터 전원 상태(P0002C)**가 정상일 때 내부 릴레이 **M00001**이 On됩니다.
- 이 상태는 전체 시스템의 동작 조건을 만족했음을 의미합니다.

### 2. 운전 타이머 시퀀스

- **P00006 입력 조건**이 활성화되면 타이머 **T0001**이 동작합니다.
- **M00001이 On된 상태에서 T0001이 10단위(예: 1초)**가 되면 **정방향 운전 릴레이(M00010)**이 On됩니다.
- 이후 **T0002가 20단위(예: 2초)**가 되면 MOV 명령에 의해 **D00020에 1**을 전송하여 인버터에 **정지 명령**을 내립니다.

### 3. 인버터 운전 및 정지 명령

- **MOV 2 → D00020** : **정방향 운전 명령**
- **MOV 1 → D00020** : **정지 명령**

### 4. 인버터 파라미터 설정

MODBUS를 통해 인버터에 다음과 같은 파라미터가 전송됩니다:

| 주소     | 설명           | 설정값 |
|----------|----------------|--------|
| D000110  | 주파수 지령     | 5000 (50.00Hz) |
| D000310  | 가속 시간 설정 | 10     |
| D000410  | 감속 시간 설정 | 10     |

### 5. 인버터 상태 확인

인버터의 상태 레지스터를 읽어 다음 상태를 판단합니다:

| 주소     | 설명               | 조건        | 내부 릴레이 |
|----------|--------------------|-------------|--------------|
| D5057    | 인버터 정지 상태     | 값이 20일 때 | M00030       |
| D5058    | 인버터 정방향 운전 상태 | 값이 20일 때 | M00040       |

---

## 주요 변수 및 주소 정리

| 변수/주소 | 설명 |
|-----------|------|
| `P00006` | 외부 운전 조건 입력 |
| `M00001` | 시스템 기동 상태 |
| `M00010` | 정방향 운전 상태 |
| `T0001`, `T0002` | 타이머 |
| `D00020` | 인버터 운전 지령 주소 |
| `D000110` | 인버터 주파수 지령 |
| `D000310`, `D000410` | 인버터 가감속 시간 설정 |
| `D5057`, `D5058` | 인버터 상태 확인 레지스터 |

---

## 실행 환경

- **운영 체제:** Windows 10
- **소프트웨어:** XG5000
- **PLC 모델:** XGB XBC-DR32H
- **인버터 모델:** LS M100
- **통신 방식:** RS-485 (LS INV 485 클라이언트 사용 가능)

---

## 참고 사항

- 반드시 인버터의 **통신 설정(통신 속도, 데이터 비트 등)**이 PLC와 일치해야 합니다.
- 인버터 주소 및 프로토콜은 **LS산전 MODBUS 매뉴얼**을 참조하세요.
- 실제 장비 제어 시에는 **비상 정지(E-STOP)** 및 **과전류 보호** 기능을 반드시 확인해야 합니다.

---

## 프로젝트 구성 파일

| 파일명 | 설명 |
|--------|------|
| `25.04.03_프로젝트2_컨베이어제어.xgwx` | PLC 프로그램 원본 (XG5000 전용) |
| `README.md` | 프로젝트 설명 파일 |

---
